{"code":"!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=1)}([function(e,n,t){\"use strict\";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||\"\",r=e[3];return r?n&&\"function\"==typeof btoa?(e=function(e){return e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(e),\"/*# \".concat(e,\" */\")}(r),n=r.sources.map((function(e){return\"/*# sourceURL=\".concat(r.sourceRoot||\"\").concat(e,\" */\")})),[t].concat(n).concat([e]).join(\"\\n\")):[t].join(\"\\n\"):t}(n,e);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},n.i=function(e,t,r){\"string\"==typeof e&&(e=[[null,e,\"\"]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var i=0;i<e.length;i++){var s=[].concat(e[i]);r&&o[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},function(e,n,t){t(2),e.exports=t(5)},function(e,n,t){var r=t(3),o=t(4);t={insert:\"head\",singleton:!1};r(o=\"string\"==typeof(o=o.__esModule?o.default:o)?[[e.i,o,\"\"]]:o,t),e.exports=o.locals||{}},function(e,n,t){\"use strict\";var r,o,a=(o={},function(e){if(void 0===o[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}o[e]=n}return o[e]}),c=[];function i(e){for(var n=-1,t=0;t<c.length;t++)if(c[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},r=[],o=0;o<e.length;o++){var a=e[o],s=n.base?a[0]+n.base:a[0],l=t[s]||0,f=\"\".concat(s,\" \").concat(l);t[s]=l+1,l=i(f),a={css:a[1],media:a[2],sourceMap:a[3]},-1!==l?(c[l].references++,c[l].updater(a)):c.push({identifier:f,updater:function(e,n){var t,r,o,a;return o=n.singleton?(a=m++,t=d=d||u(n),r=p.bind(null,t,a,!1),p.bind(null,t,a,!0)):(t=u(n),r=function(e,n,t){var r=t.css,o=t.media;t=t.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),t&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(t)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,t,n),function(){!function(e){null!==e.parentNode&&e.parentNode.removeChild(e)}(t)}),r(e),function(n){n?n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap||r(e=n):o()}}(a,n),references:1}),r.push(f)}return r}function u(e){var n,r=document.createElement(\"style\"),o=e.attributes||{};if(void 0!==o.nonce||(n=t.nc)&&(o.nonce=n),Object.keys(o).forEach((function(e){r.setAttribute(e,o[e])})),\"function\"==typeof e.insert)e.insert(r);else{if(!(e=a(e.insert||\"head\")))throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");e.appendChild(r)}return r}var l,f=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join(\"\\n\")});function p(e,n,t,r){t=t?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css,e.styleSheet?e.styleSheet.cssText=f(n,t):(r=document.createTextNode(t),(t=e.childNodes)[n]&&e.removeChild(t[n]),t.length?e.insertBefore(r,t[n]):e.appendChild(r))}var d=null,m=0;e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=r=void 0===r?Boolean(window&&document&&document.all&&!window.atob):r);var t=s(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=i(t[r]);c[o].references--}e=s(e,n);for(var a=0;a<t.length;a++){var u=i(t[a]);0===c[u].references&&(c[u].updater(),c.splice(u,1))}t=e}}}},function(e,n,t){\"use strict\";t.r(n);var r=t(0);(r=t.n(r)()(!1)).push([e.i,'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Roboto\",\"Oxygen\",\"Ubuntu\",\"Cantarell\",\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,\"Courier New\",monospace}.App{text-align:center}.App-logo{height:40vmin;pointer-events:none}@media (prefers-reduced-motion:no-preference){.App-logo{-webkit-animation:App-logo-spin 20s linear infinite;animation:App-logo-spin 20s linear infinite}}.App-header{background-color:#282c34;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff}.App-link{color:#61dafb}canvas{width:100vw;height:auto;z-index:999;position:absolute;display:block}canvas.narcissus:hover{display:none}img{height:auto;z-index:998;position:absolute;display:block}body,img{width:100vw}body{background:#000;overflow:hidden;height:100vh}span.scoreSpan{font-size:8rem;color:#fff;z-index:999;position:absolute;left:20px;bottom:2px}@media only screen and (min-width:500px){-webkit-transform:translateY(50%);transform:translateY(50%)}@-webkit-keyframes App-logo-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes App-logo-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',\"\"]),n.default=r},function(e,n){(this.webpackJsonpnarcissus=this.webpackJsonpnarcissus||[]).push([[0],{118:function(e,n){},270:function(e,n,t){},353:function(e,n){},355:function(e,n){},365:function(e,n){},367:function(e,n){},388:function(e,n){},463:function(e,n){},468:function(e,n){},470:function(e,n){},477:function(e,n){},489:function(e,n){},520:function(e,n){},547:function(e,n,t){},551:function(e,n,t){\"use strict\";t.r(n);var r=t(21),o=t.n(r),a=t(253),c=t.n(a),i=(n=(t(270),t(1)),t.n(n)),s=t(23),u=t(32),l=t(52),f=(a=t(254),n=t(265),t.n(n)),p=(n=t(59),t.n(n)),d=(t(547),t(24));a=new a.Web;console.log(\"ktools\",a),c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)((function(){var e=Object(r.useState)(Object(d.jsx)(\"canvas\",{})),n=(c=Object(l.a)(e,2))[0],t=c[1],a=(e=Object(r.useState)(!0),e=(c=Object(l.a)(e,2))[0],c[1]),c=Object(r.useState)(0),m=(c=Object(l.a)(c,2))[0],b=c[1],g=Object(r.useRef)(null);Object(r.useEffect)((function(){v()}),[]),Object(r.useLayoutEffect)((function(){return console.log(\"useEffect score\",g,\"score is\",m),g.current?((e=document.createElement(\"span\")).innerText=m,e.className=\"scoreSpan\",g.current.appendChild(e)):console.log(\"not updating score because\",g.current),function(){var e,n=document.getElementsByClassName(\"scoreSpan\"),t=Object(u.a)(n);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}};var e}),[m]),Object(r.useLayoutEffect)((function(){if(console.log(\"useEffect\",g),!g.current)return console.log(\"not updating narcissus because\",g.current),void v();console.log(\"about to append because main is\",g.current,n);var e=document.createElement(\"span\");return e.innerText=m,e.className=\"scoreSpan\",n.className=\"narcissus\",g.current.appendChild(n),g.current.appendChild(e),function(){console.log(\"clean up\");var e,n=document.getElementsByClassName(\"narcissus\"),t=Object(u.a)(n);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}}}),[n]);var h,v=(h=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return x.apply(this,arguments)}();case 2:return n=e.sent,console.log(\"setting frame\",n),e.next=6,function(){return w.apply(this,arguments)}(n);case 6:return e.abrupt(\"return\",{state:void 0,id:void 0});case 7:case\"end\":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)});function y(){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(n);case 3:return t=e.sent,console.log(t),e.abrupt(\"return\",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(s.a)(i.a.mark((function e(){var n,t,r,o,a,c,s,l,f,p,d,m,g,h,v,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.location.pathname.split(\"/\")[1]||\"1ZjIecqKGYdGTFMWR9kdGrmi77lMmZnA6dxEzWulyjo\",e.next=4,y(\"https://arweave.net/1ZjIecqKGYdGTFMWR9kdGrmi77lMmZnA6dxEzWulyjo\");case 4:return t=e.sent,e.next=7,y(\"https://arweave.net/cETTyJQYxJLVQ6nC3VxzsZf1x2-6TW2LFkGZa91gUWc\");case 7:a=e.sent,r=t.decay.lockState||0,o=t.decay.lastLock,a=a.stateUpdate.trafficLogs.rewardReport,s=0,l=t.decay.lastMax||1,f=1,m=d=p=0,g=Object(u.a)(a);try{for(g.s();!(h=g.n()).done;)(v=h.value).dailyTrafficBlock>o&&(v.logsSummary,Object.keys(v.logsSummary).includes(n)&&((j=v.logsSummary[n])<l?(p===m-1&&(f+=f),m-10<d&&(f*=-1),s+=j*(1+f/100)):(l=j,d=m,s+=1e4),p=m)),m+=1}catch(e){g.e(e)}finally{g.f()}return s<1?(console.log(\"returning current\",r),c=r):225<(c=(225-r)*(10001-s))?c=225:c<0&&(c=0),console.log(\"newScore is\",c),b(c),e.abrupt(\"return\",c);case 25:return e.prev=25,e.t0=e.catch(0),console.log(\"error loading nft data\",e.t0),b(1),e.abrupt(\"return\",1);case 30:case\"end\":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function w(){return(w=Object(s.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e,r){try{f()({url:\"./img/narcissus.gif\",frames:\"0-1000\",outputType:\"canvas\"}).then((function(r){var o=r[n].getImage();t(o),a(!1),e(r)})).catch(console.error.bind(console))}catch(e){console.log(\"err\",e),r(e)}})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)(\"div\",{className:\"App\",children:[e&&Object(d.jsx)(\"img\",{alt:\"this is the loading icon\",src:window.location.origin+\"/img/narcissus.gif\"}),!e&&Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)(\"header\",{}),Object(d.jsx)(\"main\",{ref:g}),Object(d.jsx)(\"img\",{src:\"./img/narcissus.gif\"})]})]})}),{})}),document.getElementById(\"root\"))}},[[551,1,2]]])}]);","extractedComments":[]}