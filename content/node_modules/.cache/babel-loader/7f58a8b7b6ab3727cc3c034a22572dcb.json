{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _slicedToArray = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _asyncToGenerator = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/home/al/Desktop/koi/narcissus/content/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Web = void 0;\n\nvar common_1 = require(\"./common\");\n\nvar Web = /*#__PURE__*/function (_common_1$Common) {\n  _inherits(Web, _common_1$Common);\n\n  var _super = _createSuper(Web);\n\n  function Web() {\n    _classCallCheck(this, Web);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Web, [{\n    key: \"myContent\",\n    value:\n    /**\n     * Get top contents of user\n     * @returns Array of user contents\n     */\n    function () {\n      var _myContent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var state, registerRecords, contentViewProms, _i, _Object$entries, _Object$entries$_i, txId, addr;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getContractState();\n\n              case 2:\n                state = _context.sent;\n                registerRecords = state.registeredRecord; // Get array of my awaitable NFTs\n\n                contentViewProms = [];\n\n                for (_i = 0, _Object$entries = Object.entries(registerRecords); _i < _Object$entries.length; _i++) {\n                  _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), txId = _Object$entries$_i[0], addr = _Object$entries$_i[1];\n                  if (addr === this.address) contentViewProms.push(this.contentView(txId, state));\n                } // Process NFTs simultaneously then return\n\n\n                _context.next = 8;\n                return Promise.all(contentViewProms);\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function myContent() {\n        return _myContent.apply(this, arguments);\n      }\n\n      return myContent;\n    }()\n  }]);\n\n  return Web;\n}(common_1.Common);\n\nexports.Web = Web;\nmodule.exports = {\n  Web: Web\n};","map":{"version":3,"sources":["../src/web.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,QAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;IAEa,G;;;;;;;;;;;;;;AACX;;;AAGG;;gFACH;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAE2B,KAAK,gBAAL,EAF3B;;AAAA;AAEQ,gBAAA,KAFR;AAGQ,gBAAA,eAHR,GAG+C,KAAK,CAAC,gBAHrD,EAKE;;AACM,gBAAA,gBANR,GAM2B,EAN3B;;AAOE,+CAA2B,MAAM,CAAC,OAAP,CAAe,eAAf,CAA3B;AAAA,+EAAY,IAAZ,0BAAkB,IAAlB;AACE,sBAAI,IAAI,KAAK,KAAK,OAAlB,EACE,gBAAgB,CAAC,IAAjB,CAAsB,KAAK,WAAL,CAAiB,IAAjB,EAAuB,KAAvB,CAAtB;AAFJ,iBAPF,CAWE;;;AAXF;AAAA,uBAYe,OAAO,CAAC,GAAR,CAAY,gBAAZ,CAZf;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;EALuB,QAAA,CAAA,M;;AAAzB,OAAA,CAAA,GAAA,GAAA,GAAA;AAqBA,MAAM,CAAC,OAAP,GAAiB;AAAE,EAAA,GAAG,EAAH;AAAF,CAAjB","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web = void 0;\nconst common_1 = require(\"./common\");\nclass Web extends common_1.Common {\n    /**\n     * Get top contents of user\n     * @returns Array of user contents\n     */\n    async myContent() {\n        // Get nft records\n        const state = await this.getContractState();\n        const registerRecords = state.registeredRecord;\n        // Get array of my awaitable NFTs\n        const contentViewProms = [];\n        for (const [txId, addr] of Object.entries(registerRecords))\n            if (addr === this.address)\n                contentViewProms.push(this.contentView(txId, state));\n        // Process NFTs simultaneously then return\n        return await Promise.all(contentViewProms);\n    }\n}\nexports.Web = Web;\nmodule.exports = { Web };\n//# sourceMappingURL=web.js.map"]},"metadata":{},"sourceType":"script"}