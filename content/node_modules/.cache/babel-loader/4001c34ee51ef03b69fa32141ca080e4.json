{"ast":null,"code":"/**!\n * contentstream - index.js\n *\n * Copyright(c) fengmk2 and other contributors.\n * MIT Licensed\n *\n * Authors:\n *   fengmk2 <fengmk2@gmail.com> (http://fengmk2.github.com)\n */\n'use strict';\n/**\n * Module dependencies.\n */\n\nvar Readable = require('readable-stream').Readable;\n\nvar util = require('util');\n\nmodule.exports = ContentStream;\n\nfunction ContentStream(obj, options) {\n  if (!(this instanceof ContentStream)) {\n    return new ContentStream(obj, options);\n  }\n\n  Readable.call(this, options);\n\n  if (obj === null || obj === undefined) {\n    obj = String(obj);\n  }\n\n  this._obj = obj;\n}\n\nutil.inherits(ContentStream, Readable);\n\nContentStream.prototype._read = function (n) {\n  var obj = this._obj;\n\n  if (typeof obj === 'string') {\n    this.push(new Buffer(obj));\n  } else if (Buffer.isBuffer(obj)) {\n    this.push(obj);\n  } else {\n    this.push(new Buffer(JSON.stringify(obj)));\n  }\n\n  this.push(null);\n};","map":{"version":3,"sources":["/home/al/Desktop/koi/narcissus/content/node_modules/contentstream/index.js"],"names":["Readable","require","util","module","exports","ContentStream","obj","options","call","undefined","String","_obj","inherits","prototype","_read","n","push","Buffer","isBuffer","JSON","stringify"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAP,CAA2BD,QAA1C;;AACA,IAAIE,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,aAAjB;;AAEA,SAASA,aAAT,CAAuBC,GAAvB,EAA4BC,OAA5B,EAAqC;AACnC,MAAI,EAAE,gBAAgBF,aAAlB,CAAJ,EAAsC;AACpC,WAAO,IAAIA,aAAJ,CAAkBC,GAAlB,EAAuBC,OAAvB,CAAP;AACD;;AACDP,EAAAA,QAAQ,CAACQ,IAAT,CAAc,IAAd,EAAoBD,OAApB;;AACA,MAAID,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAKG,SAA5B,EAAuC;AACrCH,IAAAA,GAAG,GAAGI,MAAM,CAACJ,GAAD,CAAZ;AACD;;AACD,OAAKK,IAAL,GAAYL,GAAZ;AACD;;AAEDJ,IAAI,CAACU,QAAL,CAAcP,aAAd,EAA6BL,QAA7B;;AAEAK,aAAa,CAACQ,SAAd,CAAwBC,KAAxB,GAAgC,UAAUC,CAAV,EAAa;AAC3C,MAAIT,GAAG,GAAG,KAAKK,IAAf;;AACA,MAAI,OAAOL,GAAP,KAAe,QAAnB,EAA6B;AAC3B,SAAKU,IAAL,CAAU,IAAIC,MAAJ,CAAWX,GAAX,CAAV;AACD,GAFD,MAEO,IAAIW,MAAM,CAACC,QAAP,CAAgBZ,GAAhB,CAAJ,EAA0B;AAC/B,SAAKU,IAAL,CAAUV,GAAV;AACD,GAFM,MAEA;AACL,SAAKU,IAAL,CAAU,IAAIC,MAAJ,CAAWE,IAAI,CAACC,SAAL,CAAed,GAAf,CAAX,CAAV;AACD;;AACD,OAAKU,IAAL,CAAU,IAAV;AACD,CAVD","sourcesContent":["/**!\n * contentstream - index.js\n *\n * Copyright(c) fengmk2 and other contributors.\n * MIT Licensed\n *\n * Authors:\n *   fengmk2 <fengmk2@gmail.com> (http://fengmk2.github.com)\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar Readable = require('readable-stream').Readable;\nvar util = require('util');\n\nmodule.exports = ContentStream;\n\nfunction ContentStream(obj, options) {\n  if (!(this instanceof ContentStream)) {\n    return new ContentStream(obj, options);\n  }\n  Readable.call(this, options);\n  if (obj === null || obj === undefined) {\n    obj = String(obj);\n  }\n  this._obj = obj;\n}\n\nutil.inherits(ContentStream, Readable);\n\nContentStream.prototype._read = function (n) {\n  var obj = this._obj;\n  if (typeof obj === 'string') {\n    this.push(new Buffer(obj));\n  } else if (Buffer.isBuffer(obj)) {\n    this.push(obj);\n  } else {\n    this.push(new Buffer(JSON.stringify(obj)));\n  }\n  this.push(null);\n};\n"]},"metadata":{},"sourceType":"script"}