{"ast":null,"code":"'use strict'; // Adam 7\n//   0 1 2 3 4 5 6 7\n// 0 x 6 4 6 x 6 4 6\n// 1 7 7 7 7 7 7 7 7\n// 2 5 6 5 6 5 6 5 6\n// 3 7 7 7 7 7 7 7 7\n// 4 3 6 4 6 3 6 4 6\n// 5 7 7 7 7 7 7 7 7\n// 6 5 6 5 6 5 6 5 6\n// 7 7 7 7 7 7 7 7 7\n\nvar imagePasses = [{\n  // pass 1 - 1px\n  x: [0],\n  y: [0]\n}, {\n  // pass 2 - 1px\n  x: [4],\n  y: [0]\n}, {\n  // pass 3 - 2px\n  x: [0, 4],\n  y: [4]\n}, {\n  // pass 4 - 4px\n  x: [2, 6],\n  y: [0, 4]\n}, {\n  // pass 5 - 8px\n  x: [0, 2, 4, 6],\n  y: [2, 6]\n}, {\n  // pass 6 - 16px\n  x: [1, 3, 5, 7],\n  y: [0, 2, 4, 6]\n}, {\n  // pass 7 - 32px\n  x: [0, 1, 2, 3, 4, 5, 6, 7],\n  y: [1, 3, 5, 7]\n}];\n\nexports.getImagePasses = function (width, height) {\n  var images = [];\n  var xLeftOver = width % 8;\n  var yLeftOver = height % 8;\n  var xRepeats = (width - xLeftOver) / 8;\n  var yRepeats = (height - yLeftOver) / 8;\n\n  for (var i = 0; i < imagePasses.length; i++) {\n    var pass = imagePasses[i];\n    var passWidth = xRepeats * pass.x.length;\n    var passHeight = yRepeats * pass.y.length;\n\n    for (var j = 0; j < pass.x.length; j++) {\n      if (pass.x[j] < xLeftOver) {\n        passWidth++;\n      } else {\n        break;\n      }\n    }\n\n    for (j = 0; j < pass.y.length; j++) {\n      if (pass.y[j] < yLeftOver) {\n        passHeight++;\n      } else {\n        break;\n      }\n    }\n\n    if (passWidth > 0 && passHeight > 0) {\n      images.push({\n        width: passWidth,\n        height: passHeight,\n        index: i\n      });\n    }\n  }\n\n  return images;\n};\n\nexports.getInterlaceIterator = function (width) {\n  return function (x, y, pass) {\n    var outerXLeftOver = x % imagePasses[pass].x.length;\n    var outerX = (x - outerXLeftOver) / imagePasses[pass].x.length * 8 + imagePasses[pass].x[outerXLeftOver];\n    var outerYLeftOver = y % imagePasses[pass].y.length;\n    var outerY = (y - outerYLeftOver) / imagePasses[pass].y.length * 8 + imagePasses[pass].y[outerYLeftOver];\n    return outerX * 4 + outerY * width * 4;\n  };\n};","map":{"version":3,"sources":["/home/al/Desktop/koi/narcissus/content/node_modules/pngjs-nozlib/lib/interlace.js"],"names":["imagePasses","x","y","exports","getImagePasses","width","height","images","xLeftOver","yLeftOver","xRepeats","yRepeats","i","length","pass","passWidth","passHeight","j","push","index","getInterlaceIterator","outerXLeftOver","outerX","outerYLeftOver","outerY"],"mappings":"AAAA,a,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,IAAIA,WAAW,GAAG,CAChB;AAAE;AACAC,EAAAA,CAAC,EAAE,CAAC,CAAD,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD;AAFL,CADgB,EAKhB;AAAE;AACAD,EAAAA,CAAC,EAAE,CAAC,CAAD,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD;AAFL,CALgB,EAShB;AAAE;AACAD,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD;AAFL,CATgB,EAahB;AAAE;AACAD,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ;AAFL,CAbgB,EAiBhB;AAAE;AACAD,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ;AAFL,CAjBgB,EAqBhB;AAAE;AACAD,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV;AAFL,CArBgB,EAyBhB;AAAE;AACAD,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CADL;AAEEC,EAAAA,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV;AAFL,CAzBgB,CAAlB;;AA+BAC,OAAO,CAACC,cAAR,GAAyB,UAASC,KAAT,EAAgBC,MAAhB,EAAwB;AAC/C,MAAIC,MAAM,GAAG,EAAb;AACA,MAAIC,SAAS,GAAGH,KAAK,GAAG,CAAxB;AACA,MAAII,SAAS,GAAGH,MAAM,GAAG,CAAzB;AACA,MAAII,QAAQ,GAAG,CAACL,KAAK,GAAGG,SAAT,IAAsB,CAArC;AACA,MAAIG,QAAQ,GAAG,CAACL,MAAM,GAAGG,SAAV,IAAuB,CAAtC;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,WAAW,CAACa,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,QAAIE,IAAI,GAAGd,WAAW,CAACY,CAAD,CAAtB;AACA,QAAIG,SAAS,GAAGL,QAAQ,GAAGI,IAAI,CAACb,CAAL,CAAOY,MAAlC;AACA,QAAIG,UAAU,GAAGL,QAAQ,GAAGG,IAAI,CAACZ,CAAL,CAAOW,MAAnC;;AACA,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACb,CAAL,CAAOY,MAA3B,EAAmCI,CAAC,EAApC,EAAwC;AACtC,UAAIH,IAAI,CAACb,CAAL,CAAOgB,CAAP,IAAYT,SAAhB,EAA2B;AACzBO,QAAAA,SAAS;AACV,OAFD,MAGK;AACH;AACD;AACF;;AACD,SAAKE,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGH,IAAI,CAACZ,CAAL,CAAOW,MAAvB,EAA+BI,CAAC,EAAhC,EAAoC;AAClC,UAAIH,IAAI,CAACZ,CAAL,CAAOe,CAAP,IAAYR,SAAhB,EAA2B;AACzBO,QAAAA,UAAU;AACX,OAFD,MAGK;AACH;AACD;AACF;;AACD,QAAID,SAAS,GAAG,CAAZ,IAAiBC,UAAU,GAAG,CAAlC,EAAqC;AACnCT,MAAAA,MAAM,CAACW,IAAP,CAAY;AAAEb,QAAAA,KAAK,EAAEU,SAAT;AAAoBT,QAAAA,MAAM,EAAEU,UAA5B;AAAwCG,QAAAA,KAAK,EAAEP;AAA/C,OAAZ;AACD;AACF;;AACD,SAAOL,MAAP;AACD,CA/BD;;AAiCAJ,OAAO,CAACiB,oBAAR,GAA+B,UAASf,KAAT,EAAgB;AAC7C,SAAO,UAASJ,CAAT,EAAYC,CAAZ,EAAeY,IAAf,EAAqB;AAC1B,QAAIO,cAAc,GAAGpB,CAAC,GAAGD,WAAW,CAACc,IAAD,CAAX,CAAkBb,CAAlB,CAAoBY,MAA7C;AACA,QAAIS,MAAM,GAAK,CAACrB,CAAC,GAAGoB,cAAL,IAAuBrB,WAAW,CAACc,IAAD,CAAX,CAAkBb,CAAlB,CAAoBY,MAA5C,GAAsD,CAAvD,GAA4Db,WAAW,CAACc,IAAD,CAAX,CAAkBb,CAAlB,CAAoBoB,cAApB,CAAzE;AACA,QAAIE,cAAc,GAAGrB,CAAC,GAAGF,WAAW,CAACc,IAAD,CAAX,CAAkBZ,CAAlB,CAAoBW,MAA7C;AACA,QAAIW,MAAM,GAAK,CAACtB,CAAC,GAAGqB,cAAL,IAAuBvB,WAAW,CAACc,IAAD,CAAX,CAAkBZ,CAAlB,CAAoBW,MAA5C,GAAsD,CAAvD,GAA4Db,WAAW,CAACc,IAAD,CAAX,CAAkBZ,CAAlB,CAAoBqB,cAApB,CAAzE;AACA,WAAQD,MAAM,GAAG,CAAV,GAAgBE,MAAM,GAAGnB,KAAT,GAAiB,CAAxC;AACD,GAND;AAOD,CARD","sourcesContent":["'use strict';\n\n// Adam 7\n//   0 1 2 3 4 5 6 7\n// 0 x 6 4 6 x 6 4 6\n// 1 7 7 7 7 7 7 7 7\n// 2 5 6 5 6 5 6 5 6\n// 3 7 7 7 7 7 7 7 7\n// 4 3 6 4 6 3 6 4 6\n// 5 7 7 7 7 7 7 7 7\n// 6 5 6 5 6 5 6 5 6\n// 7 7 7 7 7 7 7 7 7\n\n\nvar imagePasses = [\n  { // pass 1 - 1px\n    x: [0],\n    y: [0]\n  },\n  { // pass 2 - 1px\n    x: [4],\n    y: [0]\n  },\n  { // pass 3 - 2px\n    x: [0, 4],\n    y: [4]\n  },\n  { // pass 4 - 4px\n    x: [2, 6],\n    y: [0, 4]\n  },\n  { // pass 5 - 8px\n    x: [0, 2, 4, 6],\n    y: [2, 6]\n  },\n  { // pass 6 - 16px\n    x: [1, 3, 5, 7],\n    y: [0, 2, 4, 6]\n  },\n  { // pass 7 - 32px\n    x: [0, 1, 2, 3, 4, 5, 6, 7],\n    y: [1, 3, 5, 7]\n  }\n];\n\nexports.getImagePasses = function(width, height) {\n  var images = [];\n  var xLeftOver = width % 8;\n  var yLeftOver = height % 8;\n  var xRepeats = (width - xLeftOver) / 8;\n  var yRepeats = (height - yLeftOver) / 8;\n  for (var i = 0; i < imagePasses.length; i++) {\n    var pass = imagePasses[i];\n    var passWidth = xRepeats * pass.x.length;\n    var passHeight = yRepeats * pass.y.length;\n    for (var j = 0; j < pass.x.length; j++) {\n      if (pass.x[j] < xLeftOver) {\n        passWidth++;\n      }\n      else {\n        break;\n      }\n    }\n    for (j = 0; j < pass.y.length; j++) {\n      if (pass.y[j] < yLeftOver) {\n        passHeight++;\n      }\n      else {\n        break;\n      }\n    }\n    if (passWidth > 0 && passHeight > 0) {\n      images.push({ width: passWidth, height: passHeight, index: i });\n    }\n  }\n  return images;\n};\n\nexports.getInterlaceIterator = function(width) {\n  return function(x, y, pass) {\n    var outerXLeftOver = x % imagePasses[pass].x.length;\n    var outerX = (((x - outerXLeftOver) / imagePasses[pass].x.length) * 8) + imagePasses[pass].x[outerXLeftOver];\n    var outerYLeftOver = y % imagePasses[pass].y.length;\n    var outerY = (((y - outerYLeftOver) / imagePasses[pass].y.length) * 8) + imagePasses[pass].y[outerYLeftOver];\n    return (outerX * 4) + (outerY * width * 4);\n  };\n};"]},"metadata":{},"sourceType":"script"}