{"ast":null,"code":"'use strict';\n\nvar processFn = function processFn(fn, options) {\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var P = options.promiseModule;\n    return new P(function (resolve, reject) {\n      if (options.multiArgs) {\n        args.push(function () {\n          for (var _len2 = arguments.length, result = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            result[_key2] = arguments[_key2];\n          }\n\n          if (options.errorFirst) {\n            if (result[0]) {\n              reject(result);\n            } else {\n              result.shift();\n              resolve(result);\n            }\n          } else {\n            resolve(result);\n          }\n        });\n      } else if (options.errorFirst) {\n        args.push(function (error, result) {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(result);\n          }\n        });\n      } else {\n        args.push(resolve);\n      }\n\n      fn.apply(_this, args);\n    });\n  };\n};\n\nmodule.exports = function (input, options) {\n  options = Object.assign({\n    exclude: [/.+(Sync|Stream)$/],\n    errorFirst: true,\n    promiseModule: Promise\n  }, options);\n  var objType = typeof input;\n\n  if (!(input !== null && (objType === 'object' || objType === 'function'))) {\n    throw new TypeError(\"Expected `input` to be a `Function` or `Object`, got `\".concat(input === null ? 'null' : objType, \"`\"));\n  }\n\n  var filter = function filter(key) {\n    var match = function match(pattern) {\n      return typeof pattern === 'string' ? key === pattern : pattern.test(key);\n    };\n\n    return options.include ? options.include.some(match) : !options.exclude.some(match);\n  };\n\n  var ret;\n\n  if (objType === 'function') {\n    ret = function ret() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return options.excludeMain ? input.apply(void 0, args) : processFn(input, options).apply(this, args);\n    };\n  } else {\n    ret = Object.create(Object.getPrototypeOf(input));\n  }\n\n  for (var key in input) {\n    // eslint-disable-line guard-for-in\n    var property = input[key];\n    ret[key] = typeof property === 'function' && filter(key) ? processFn(property, options) : property;\n  }\n\n  return ret;\n};","map":{"version":3,"sources":["/home/al/Desktop/koi/narcissus/content/node_modules/pify/index.js"],"names":["processFn","fn","options","args","P","promiseModule","resolve","reject","multiArgs","push","result","errorFirst","shift","error","apply","module","exports","input","Object","assign","exclude","Promise","objType","TypeError","filter","key","match","pattern","test","include","some","ret","excludeMain","create","getPrototypeOf","property"],"mappings":"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","sourcesContent":["'use strict';\n\nconst processFn = (fn, options) => function (...args) {\n\tconst P = options.promiseModule;\n\n\treturn new P((resolve, reject) => {\n\t\tif (options.multiArgs) {\n\t\t\targs.push((...result) => {\n\t\t\t\tif (options.errorFirst) {\n\t\t\t\t\tif (result[0]) {\n\t\t\t\t\t\treject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.shift();\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (options.errorFirst) {\n\t\t\targs.push((error, result) => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\targs.push(resolve);\n\t\t}\n\n\t\tfn.apply(this, args);\n\t});\n};\n\nmodule.exports = (input, options) => {\n\toptions = Object.assign({\n\t\texclude: [/.+(Sync|Stream)$/],\n\t\terrorFirst: true,\n\t\tpromiseModule: Promise\n\t}, options);\n\n\tconst objType = typeof input;\n\tif (!(input !== null && (objType === 'object' || objType === 'function'))) {\n\t\tthrow new TypeError(`Expected \\`input\\` to be a \\`Function\\` or \\`Object\\`, got \\`${input === null ? 'null' : objType}\\``);\n\t}\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\treturn options.include ? options.include.some(match) : !options.exclude.some(match);\n\t};\n\n\tlet ret;\n\tif (objType === 'function') {\n\t\tret = function (...args) {\n\t\t\treturn options.excludeMain ? input(...args) : processFn(input, options).apply(this, args);\n\t\t};\n\t} else {\n\t\tret = Object.create(Object.getPrototypeOf(input));\n\t}\n\n\tfor (const key in input) { // eslint-disable-line guard-for-in\n\t\tconst property = input[key];\n\t\tret[key] = typeof property === 'function' && filter(key) ? processFn(property, options) : property;\n\t}\n\n\treturn ret;\n};\n"]},"metadata":{},"sourceType":"script"}